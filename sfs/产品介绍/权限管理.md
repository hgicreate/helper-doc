# 权限管理

更新时间： 2020/07/15 GMT+08:00

[查看PDF](https://support.huaweicloud.com/productdesc-sfs/sfs-productdesc.pdf)

[分享](javascript:void(0);)



如果您需要对华为云上购买的SFS资源，给企业中的员工设置不同的访问权限，以达到不同员工之间的权限隔离，您可以使用统一身份认证服务（Identity and Access Management，简称IAM）进行精细的权限管理。该服务提供用户身份认证、权限分配、访问控制等功能，可以帮助您安全的控制华为云资源的访问。

通过IAM，您可以在华为云账号中给员工创建IAM用户，并使用策略来控制他们对华为云资源的访问范围。例如您的员工中有负责软件开发的人员，您希望他们拥有SFS的使用权限，但是不希望他们拥有删除文件系统等高危操作的权限，那么您可以使用IAM为开发人员创建用户，通过授予仅能使用SFS，但是不允许删除文件系统的权限策略，控制他们对SFS资源的使用范围。

如果华为云账号已经能满足您的要求，不需要创建独立的IAM用户进行权限管理，您可以跳过本章节，不影响您使用SFS服务的其它功能。

IAM是华为云提供权限管理的基础服务，无需付费即可使用，您只需要为您账号中的资源进行付费。关于IAM的详细介绍，请参见[《IAM产品介绍》](https://support.huaweicloud.com/productdesc-iam/iam_01_0026.html)。

#### SFS权限

默认情况下，管理员创建的IAM用户没有任何权限，需要将其加入用户组，并给用户组授予策略或角色，才能使得用户组中的用户获得对应的权限，这一过程称为授权。授权后，用户就可以基于被授予的权限对云服务进行操作。

SFS部署时通过物理区域划分，为项目级服务。授权时，“作用范围”需要选择“区域级项目”，然后在指定区域（如上海一）对应的项目（cn-east-1）中设置相关权限，并且该权限仅对此项目生效；如果在“所有项目”中设置权限，则该权限在所有区域项目中都生效。访问SFS时，需要先切换至授权区域。

权限根据授权精程度分为角色和策略。

- 角色：IAM最初提供的一种根据用户的工作职能定义权限的粗粒度授权机制。该机制以服务为粒度，提供有限的服务相关角色用于授权。由于华为云各服务之间存在业务依赖关系，因此给用户授予角色时，可能需要一并授予依赖的其他角色，才能正确完成业务。角色并不能满足用户对精细化授权的要求，无法完全达到企业对权限最小化的安全管控要求。

- 策略：IAM最新提供的一种细粒度授权的能力，可以精确到具体服务的操作、资源以及请求条件等。基于策略的授权是一种更加灵活的授权方式，能够满足企业对权限最小化的安全管控要求。例如：针对ECS服务，管理员能够控制IAM用户仅能对某一类云服务器资源进行指定的管理操作。多数细粒度策略以API接口为粒度进行权限拆分，SFS支持的API授权项请参见

  策略及授权项说明

  。



  说明：

   



  当前仅SFS文件系统支持系统策略，SFS Turbo文件系统不支持系统策略。

如

 

表1

所示，包括了SFS的所有系统权限。





| 策略名称           | 描述                                                         | 策略类别 | 依赖关系                               |
| ------------------ | ------------------------------------------------------------ | -------- | -------------------------------------- |
| SFS FullAccess     | 弹性文件服务管理员权限，拥有该权限的用户可以操作并使用所有文件系统。 | 系统策略 | 无                                     |
| SFS ReadOnlyAccess | 弹性文件服务只读权限，拥有该权限的用户仅能查看文件系统数据。 | 系统策略 | 无                                     |
| SFS Administrator  | 操作权限：创建、删除、查询、修改文件系统。添加、修改、删除文件系统的访问规则。创建、查询、删除文件系统标签。扩容、缩容文件系统。查询可用区。拥有Tenant Guest权限时，即拥有对所有云服务的只读权限。 | 系统角色 | 依赖Tenant Guest角色，在同项目中勾选。 |

[表2](https://support.huaweicloud.com/productdesc-sfs/sfs_01_0013.html#sfs_01_0013__table102673531693)列出了SFS常用操作与系统策略的授权关系，您可以参照该表选择合适的系统策略。





| 操作                                                      | SFS FullAccess | SFS ReadOnlyAccess | SFS Administrator |
| --------------------------------------------------------- | -------------- | ------------------ | ----------------- |
| 创建文件系统                                              | √              | x                  | √                 |
| 查询文件系统                                              | √              | √                  | √                 |
| 修改文件系统                                              | √              | x                  | √                 |
| 删除文件系统                                              | √              | x                  | √                 |
| 添加文件系统的访问规则（为文件系统添加VPC或添加授权地址） | √              | x                  | √                 |
| 修改文件系统的访问规则（修改文件系统的VPC或授权地址）     | √              | x                  | √                 |
| 删除文件系统的访问规则（删除文件系统的VPC或授权地址）     | √              | x                  | √                 |
| 扩容文件系统                                              | √              | x                  | √                 |
| 缩容文件系统                                              | √              | x                  | √                 |
| 创建文件系统标签                                          | √              | x                  | √                 |
| 查询文件系统标签                                          | √              | √                  | √                 |
| 删除文件系统标签                                          | √              | x                  | √                 |
| 查询可用区                                                | √              | √                  | √                 |

#### 相关链接

- [IAM产品介绍](https://support.huaweicloud.com/productdesc-iam/iam_01_0026.html)
- [创建用户并授权使用SFS](https://support.huaweicloud.com/usermanual-sfs/sfs_01_0032.html)
- [权限及授权项说明](https://support.huaweicloud.com/api-sfs/sfs_02_0080.html)